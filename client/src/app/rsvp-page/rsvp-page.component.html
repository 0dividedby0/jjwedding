<div class="bg" style="background-repeat: repeat; background-size: auto; background-image: url(images/textureBackground.png);"></div>
<div class="pageContent">
    <app-nav-bar title="RSVP"></app-nav-bar>
    <div class="primaryContent" style="text-align: center;">
        <div *ngIf="currentParty.authenticated">
            <div class="partyName cursiveText">{{currentParty.party}}</div>
            <div *ngIf="!currentParty.responded">
                <div class="standardText">You are invited to the wedding of Jessica Peebles and Jason Halcomb! We look forward to seeing you!</div>
                <div style="margin-top: 30px;">
                    <div class="rsvpItem standardText" style="width: 400px;">Name</div>
                    <div class="rsvpItem standardText" style="width: 200px; text-align: center;">Delightfully Accept</div>
                    <div class="rsvpItem standardText" style="width: 200px; text-align: center;">Regretfully Decline</div>
                </div>
                <div *ngFor="let guest of currentParty.guests;" style="margin-top: 10px; margin-bottom: 10px;">
                    <div class="rsvpItem" style="width: 400px; vertical-align: top;"><input class="standardInput" style="width: 95%;" [(ngModel)]="guest.name"></div>
                    <div class="rsvpItem" style="width: 200px; text-align: center;"><input type="radio" name="{{guest.guest_id}}RSVP" [(ngModel)]="guest.rsvp" [value]="1"></div>
                    <div class="rsvpItem" style="width: 200px; text-align: center;"><input type="radio" name="{{guest.guest_id}}RSVP" [(ngModel)]="guest.rsvp" [value]="0"></div>
                </div>
                <div class="standardText" style="font-style: italic; margin-bottom: 20px;">**Please include first and last name for all guests and check spelling carefully!</div>
                <input class="standardInput" style="width: calc(100% - 200px); margin-bottom: 10px; width: 400px; max-width: 95%; text-align: center;" [(ngModel)]="suggestedSong" placeholder="Suggest a song to dance to!">
                <br>
                <input class="standardInput" style="width: calc(100% - 200px); margin-bottom: 10px; width: 400px; max-width: 95%; text-align: center;" [(ngModel)]="userComment" placeholder="Leave us a message! (visible to all guests)">
                <br>
                <input class="standardInput" style="width: calc(100% - 200px); margin-bottom: 20px; width: 400px; max-width: 95%; text-align: center;" [(ngModel)]="userZipCode" placeholder="Add a pin on our map! (zip code)">
            </div>
            <div *ngIf="currentParty.responded" style="margin-bottom: 10px;">
                <div class="standardText">Thank you for your response!</div>
                <div style="margin-top: 30px;">
                    <div class="rsvpItem standardText" style="width: 300px;">Name</div>
                    <div class="rsvpItem standardText" style="width: 300px; text-align: center;">RSVP</div>
                </div>
                <div *ngFor="let guest of currentParty.guests;" style="margin-top: 10px; margin-bottom: 10px;">
                    <div class="rsvpItem" style="width: 300px; vertical-align: top;"><div class="standardText" style="font-weight: normal;">{{guest.name}}</div></div>
                    <div class="rsvpItem" style="width: 300px; text-align: center;"><div class="standardText" style="font-weight: normal;">{{guest.rsvp ? "Accepted" : "Declined"}}</div></div>
                </div>
            </div>
            <button class="standardButton" (click)="submitRSVP()">{{currentParty.responded ? "Change Response" : "Submit"}}</button>
            <div *ngIf="currentParty.admin" style="text-align: left; column-count: 3; margin-top: 20px;">
                <div  *ngFor="let object of adminData | keyvalue" style="break-inside: avoid-column; margin-bottom: 15px;">
                    <div class="standardText" style="font-weight: bold;" [ngStyle]="{'color': object.value.party.responded ? 'green' : 'red'}">{{object.value.party.access_code}} - {{object.value.party.party}}</div>
                    <div class="standardText" *ngIf="object.value.party.email" style="margin-left: 30px;">Email: {{object.value.party.email}}</div>
                    <div class="standardText" *ngFor="let guest of object.value.guests" style="margin-left: 30px;" [ngStyle]="{'color': guest!.rsvp ? 'green' : 'red'}">{{guest!.name}}</div>
                </div>
            </div>
        </div>
        <div *ngIf="!currentParty.authenticated" class="standardText" style="font-size: 30px;">Please log in to RSVP!</div>
        <div *ngIf="warningPopupShowing" class="warningPopup">
            <div class="standardText">Your response has not been recorded! Please press 'Submit' to record your response!</div>
            <button class="standardButton" (click)="warningPopupShowing = false;">Close</button>
        </div>
    </div>
    <app-login></app-login>
    <app-footer></app-footer>
</div>